<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>301-M2-ECON | Business Economics Challenge</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Source+Serif+4:wght@500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app-shell">
      <header class="hero">
        <p class="eyebrow">301 Module 2</p>
        <h1>301-M2-ECON</h1>
        <p class="hero-subtitle">
          Run a business under pressure. Every decision impacts cash, trust, risk, and valuation.
        </p>
      </header>

      <section id="start-screen" class="panel">
        <h2>Game Setup</h2>
        <p>
          This is a strategy simulation. You are acting CFO and strategy lead through 14 business rounds.
        </p>

        <ol class="step-list">
          <li>Read each business scenario and market pulse.</li>
          <li>Take one prep action for that round.</li>
          <li>Choose a strategic decision under a time limit.</li>
          <li>Manage metrics to avoid collapse and maximize valuation.</li>
        </ol>

        <div class="setup-grid">
          <div class="input-row">
            <label for="player-name">Name (optional)</label>
            <input id="player-name" type="text" placeholder="Enter your name" />
          </div>

          <div class="input-row">
            <label for="difficulty-select">Difficulty</label>
            <select id="difficulty-select">
              <option value="analyst">Analyst (35s / round)</option>
              <option value="manager" selected>Manager (28s / round)</option>
              <option value="cfo">CFO (22s / round)</option>
            </select>
          </div>

          <div class="input-row">
            <label for="style-select">Starting Strategy Profile</label>
            <select id="style-select">
              <option value="balanced" selected>Balanced Operator</option>
              <option value="aggressive">Aggressive Growth</option>
              <option value="defensive">Defensive Risk Control</option>
            </select>
          </div>
        </div>

        <div class="tip-strip">
          <p><strong>Hotkeys:</strong> 1-4 choose option, Enter submit, N next, F 50/50, H hint, S skip.</p>
        </div>

        <ul class="concept-list">
          <li>Principal-agent problems in organizations</li>
          <li>Risk-adjusted return calculations</li>
          <li>Portfolio theory in portfolio construction decisions</li>
          <li>Moral hazard in guaranteed contracts</li>
          <li>Asset valuation under uncertainty</li>
          <li>Capital structure decisions</li>
          <li>Revenue recognition timing</li>
        </ul>

        <p id="high-score" class="high-score"></p>

        <button id="start-btn" class="primary-btn" type="button">Start Business Run</button>
      </section>

      <section id="game-screen" class="panel hidden" aria-live="polite">
        <div class="hud">
          <div class="hud-item">
            <span>Round</span>
            <strong id="round-text">1 / 14</strong>
          </div>
          <div class="hud-item">
            <span>Score</span>
            <strong id="score-text">0</strong>
          </div>
          <div class="hud-item">
            <span>Valuation</span>
            <strong id="valuation-text">120</strong>
          </div>
          <div class="hud-item">
            <span>Company Health</span>
            <strong id="health-text">60</strong>
          </div>
          <div class="hud-item">
            <span>Streak</span>
            <strong id="streak-text">0</strong>
          </div>
          <div class="hud-item">
            <span>Multiplier</span>
            <strong id="multiplier-text">x1.0</strong>
          </div>
          <div class="hud-item">
            <span>Time Left</span>
            <strong id="time-text">28s</strong>
          </div>
        </div>

        <div class="progress-wrap" aria-hidden="true">
          <div id="progress-fill" class="progress-fill"></div>
        </div>

        <div class="timer-wrap" aria-hidden="true">
          <div id="timer-bar" class="timer-bar"></div>
        </div>

        <section class="metric-board" aria-label="Business metrics">
          <article class="metric-card">
            <p>Cash</p>
            <strong id="cash-value">60</strong>
            <div class="meter"><span id="cash-fill"></span></div>
          </article>
          <article class="metric-card">
            <p>Growth</p>
            <strong id="growth-value">60</strong>
            <div class="meter"><span id="growth-fill"></span></div>
          </article>
          <article class="metric-card">
            <p>Trust</p>
            <strong id="trust-value">60</strong>
            <div class="meter"><span id="trust-fill"></span></div>
          </article>
          <article class="metric-card">
            <p>Compliance</p>
            <strong id="compliance-value">60</strong>
            <div class="meter"><span id="compliance-fill"></span></div>
          </article>
          <article class="metric-card">
            <p>Risk (lower is better)</p>
            <strong id="risk-value">40</strong>
            <div class="meter"><span id="risk-fill"></span></div>
          </article>
        </section>

        <article class="market-pulse" id="market-pulse">
          <p id="pulse-title" class="pulse-title"></p>
          <p id="pulse-text" class="pulse-text"></p>
        </article>

        <section class="prep-row" aria-label="Prep action">
          <p class="row-title">Choose one prep action this round:</p>
          <div class="button-row">
            <button class="pill-btn" id="prep-audit" data-action="audit" type="button">Run Audit</button>
            <button class="pill-btn" id="prep-sales" data-action="sales" type="button">Sales Sprint</button>
            <button class="pill-btn" id="prep-training" data-action="training" type="button">Team Training</button>
            <button class="pill-btn" id="prep-hedge" data-action="hedge" type="button">Hedge Exposure</button>
          </div>
        </section>

        <section class="lifeline-row" aria-label="Lifelines">
          <p class="row-title">Lifelines (one use each for full game):</p>
          <div class="button-row">
            <button id="lifeline-5050" class="pill-btn" type="button">50/50</button>
            <button id="lifeline-hint" class="pill-btn" type="button">Hint</button>
            <button id="lifeline-skip" class="pill-btn" type="button">Skip Round</button>
          </div>
          <p id="action-status" class="action-status" aria-live="polite"></p>
        </section>

        <div id="question-card" class="question-card">
          <p id="concept-tag" class="concept-tag"></p>
          <h2 id="question-title"></h2>
          <p id="scenario-text" class="scenario"></p>
          <p id="prompt-text" class="prompt"></p>

          <div id="options" class="options" role="group" aria-label="Decision choices"></div>

          <p id="combo-banner" class="combo-banner hidden"></p>
          <div id="feedback" class="feedback hidden"></div>

          <div class="actions">
            <button id="submit-btn" class="primary-btn" type="button">Lock Decision</button>
            <button id="next-btn" class="secondary-btn hidden" type="button">Next Round</button>
          </div>
        </div>
      </section>

      <section id="result-screen" class="panel hidden">
        <h2>Board Report</h2>
        <p id="final-summary"></p>

        <div class="report-grid">
          <article class="report-card">
            <p class="label">Final Score</p>
            <p id="final-score" class="value">0</p>
          </article>
          <article class="report-card">
            <p class="label">Letter Grade</p>
            <p id="final-grade" class="value">A</p>
          </article>
          <article class="report-card">
            <p class="label">Strategic Accuracy</p>
            <p id="final-accuracy" class="value">0%</p>
          </article>
          <article class="report-card">
            <p class="label">Best Streak</p>
            <p id="final-streak" class="value">0</p>
          </article>
          <article class="report-card">
            <p class="label">Final Health</p>
            <p id="final-health" class="value">0</p>
          </article>
          <article class="report-card">
            <p class="label">Final Valuation</p>
            <p id="final-valuation" class="value">0</p>
          </article>
        </div>

        <h3>Achievements</h3>
        <ul id="achievements" class="achievements"></ul>

        <h3>Concept Breakdown</h3>
        <div id="concept-breakdown" class="concept-breakdown"></div>

        <h3>Study Plan</h3>
        <ul id="study-plan" class="study-plan"></ul>

        <div class="actions">
          <button id="restart-btn" class="primary-btn" type="button">Play Again</button>
        </div>
      </section>
    </main>

    <footer class="footer-note">Static HTML simulation game ready for GitHub Pages.</footer>

    <script src="script.js"></script>
  </body>
</html>
